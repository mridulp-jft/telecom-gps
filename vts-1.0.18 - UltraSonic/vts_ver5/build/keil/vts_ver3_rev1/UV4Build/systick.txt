; generated by Component: ARM Compiler 5.04 update 1 (build 49) Tool: ArmCC [5040049]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\uv4build\systick.o --asm_dir=.\UV4Build\ --list_dir=.\UV4Build\ --depend=.\uv4build\systick.d --cpu=Cortex-M0+ --apcs=interwork -O0 -I..\..\..\src\projects\KEIL_MAG -I..\..\..\src\common -I..\..\..\src\cpu -I..\..\..\src\cpu\headers\CMSIS\MKL26Z4\Include -I..\..\..\src\drivers\llwu -I..\..\..\src\drivers\lptmr -I..\..\..\src\drivers\mcg -I..\..\..\src\drivers\pmc -I..\..\..\src\drivers\rcm -I..\..\..\src\drivers\rtc -I..\..\..\src\drivers\smc -I..\..\..\src\drivers\uart -I..\..\..\src\drivers\cmp -I..\..\..\src\platforms -I..\.. -I..\..\..\src\cpu\CMSIS\Source -I..\..\..\src\cpu\CMSIS\Source\arm -IC:\Users\Mridul\Desktop\vts_ver3\build\keil\vts_ver3\RTE -IC:\Keil_v5\ARM\PACK\Keil\Kinetis_KLxx_DFP\1.5.0\Device\Include -IC:\Keil_v5\ARM\CMSIS\Include -D__MICROLIB -DMKL26Z128xxx4 -DKEIL -DFREEDOM -DCMSIS --omf_browse=.\uv4build\systick.crf ..\..\..\src\projects\KEIL_MAG\systick.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_x
                          REQUIRE _printf_longlong_hex
                  systick_init PROC
;;;7      
;;;8      void systick_init(void)
000000  2000              MOVS     r0,#0
;;;9      {
;;;10     	SYST_CVR = 0x0;	//clear current timer value
000002  4911              LDR      r1,|L1.72|
000004  6188              STR      r0,[r1,#0x18]
;;;11         SYST_RVR = 0x00FFFFFF;
000006  4811              LDR      r0,|L1.76|
000008  6148              STR      r0,[r1,#0x14]
;;;12         SYST_CSR = SysTick_CSR_CLKSOURCE_MASK | SysTick_CSR_ENABLE_MASK;   
00000a  2005              MOVS     r0,#5
00000c  6108              STR      r0,[r1,#0x10]
;;;13     }
00000e  4770              BX       lr
;;;14     
                          ENDP

                  systick_disable PROC
;;;15     void systick_disable(void)
000010  480d              LDR      r0,|L1.72|
;;;16     {
;;;17         SYST_CSR &= ~SysTick_CSR_ENABLE_MASK;
000012  6900              LDR      r0,[r0,#0x10]
000014  0840              LSRS     r0,r0,#1
000016  0040              LSLS     r0,r0,#1
000018  490b              LDR      r1,|L1.72|
00001a  6108              STR      r0,[r1,#0x10]
;;;18     }
00001c  4770              BX       lr
;;;19     
                          ENDP

                  cal_systick_read_overhead PROC
;;;20     void cal_systick_read_overhead(void)
00001e  b570              PUSH     {r4-r6,lr}
;;;21     {
;;;22       	uint32_t cnt_start_value;
;;;23         uint32_t cnt_end_value;
;;;24     	
;;;25     	cnt_start_value = SYST_CVR;
000020  4809              LDR      r0,|L1.72|
000022  6985              LDR      r5,[r0,#0x18]
;;;26       
;;;27         cnt_end_value = SYST_CVR;
000024  6984              LDR      r4,[r0,#0x18]
;;;28     	
;;;29     	overhead = cnt_start_value - cnt_end_value;
000026  1b28              SUBS     r0,r5,r4
000028  4909              LDR      r1,|L1.80|
00002a  6008              STR      r0,[r1,#0]  ; overhead
;;;30     	
;;;31     #ifdef DEBUG_PRINT
;;;32     	printf("systick start value: 0x%x\n\r", cnt_start_value);
00002c  4629              MOV      r1,r5
00002e  a009              ADR      r0,|L1.84|
000030  f7fffffe          BL       __2printf
;;;33     	printf("systick end value: 0x%x\n\r", cnt_end_value);
000034  4621              MOV      r1,r4
000036  a00e              ADR      r0,|L1.112|
000038  f7fffffe          BL       __2printf
;;;34     	printf("systick current value read overhead: 0x%x\n\r", overhead);
00003c  4804              LDR      r0,|L1.80|
00003e  6801              LDR      r1,[r0,#0]  ; overhead
000040  a012              ADR      r0,|L1.140|
000042  f7fffffe          BL       __2printf
;;;35     #endif
;;;36     
;;;37     }
000046  bd70              POP      {r4-r6,pc}
                          ENDP

                  |L1.72|
                          DCD      0xe000e000
                  |L1.76|
                          DCD      0x00ffffff
                  |L1.80|
                          DCD      overhead
                  |L1.84|
000054  73797374          DCB      "systick start value: 0x%x\n\r",0
000058  69636b20
00005c  73746172
000060  74207661
000064  6c75653a
000068  20307825
00006c  780a0d00
                  |L1.112|
000070  73797374          DCB      "systick end value: 0x%x\n\r",0
000074  69636b20
000078  656e6420
00007c  76616c75
000080  653a2030
000084  7825780a
000088  0d00    
00008a  00                DCB      0
00008b  00                DCB      0
                  |L1.140|
00008c  73797374          DCB      "systick current value read overhead: 0x%x\n\r",0
000090  69636b20
000094  63757272
000098  656e7420
00009c  76616c75
0000a0  65207265
0000a4  6164206f
0000a8  76657268
0000ac  6561643a
0000b0  20307825
0000b4  780a0d00

                          AREA ||.data||, DATA, ALIGN=2

                  cnt_start_value
                          DCD      0x00000000
                  cnt_end_value
                          DCD      0x00000000
                  overhead
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\..\\..\\src\\projects\\KEIL_MAG\\systick.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___9_systick_c_57e5245c____REV16|
#line 129 "C:\\Keil_v5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___9_systick_c_57e5245c____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___9_systick_c_57e5245c____REVSH|
#line 144
|__asm___9_systick_c_57e5245c____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
